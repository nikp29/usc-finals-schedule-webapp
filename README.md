# Final Exam Schedule Application

This is a CSCI401 project created for the Registrar's Office at USC to output final exam times given a course code and section. 

As of May 1, 2024, the application is currently populated with class data and final exam times from the Spring 2024 semester. Below are the instructions for updating the application for upcoming semester data.

## Step 0: Get Supabase Credentials

@team, what's the best way to do this?

## Step 1: Generating and Uploading CSVs

The application draws data from 3 CSV files to output final exam times. Every semester, these 3 CSV files must be created with updated information.

The [Courses CSV](./supabase_csvs/courses.csv) is generated by the university every semester. Both the [Exceptions CSV](./supabase_csvs/exceptions.csv) and [Final Exam Times CSV](./supabase_csvs/final-exam-times.csv) were built by the student development team for the purposes of this application.

For examples from the Spring 2024 semester, see the folder [/supabase-csvs](./supabase_csvs).

### Generate the Courses CSV

The [Courses CSV](./supabase_csvs/courses.csv) should be generated by the university. For the application to work, please make sure that there are no empty rows in the CSV.

### Clear Old Data From Supabase

Log into [supabase](https://supabase.com/dashboard/projects). Click on the project usc-finals-schedule-webapp. On the navigation bar on the left, click "Database." Under the "Tables" tab, you should see three tables named "Courses," "Exceptions," and "Final Exam Times." This information is from the previous semester. Delete these three tables by clicking on the three dots on the right hand side -> Delete Table.

### Upload Courses CSV to Supabase Database

Click the green "New Table" button. Follow the input in [this screenshot](./more_screenshots/Supabase_courses_create.png) and [this other screenshot](./more_screenshots/Supabase_courses_create_2.png). Then click the green "Save" button. NOTE: if the Registrar's office has changed the columns for the courses CSV, please create the columns accordingly.

On the left navigation bar, click "Table Editor." Click the green "Insert" button, then click "Import data from CSV." Import the course data CSV generated by the Office of the Registrar.

### Run a Supabase Query on the Courses Table

To create the [Final Exam Times CSV](./supabase_csvs/final-exam-times.csv), we will have to run a database query.

In [supabase](https://supabase.com/dashboard/projects), select usc-finals-schedule-webapp. On the left navigation bar, click on SQL editor. Input the following query into the textbox:

``` SELECT DISTINCT "DAYS", "START_TIME" FROM "Courses"; ```

Then, select the green run button. You will get an output of every combination of day of the week and start time for USC classes. Click on Export, then Download CSV.

### Create the Final Exam Times CSV

Using spreadsheet software and the final exam time rules, create two columns "EXAM_DAY" and "EXAM_TIME" that map class times to final exam times.

An attached screenshot of the rules used to map class times to final exam times from the Spring 2024 website can be found [here](./usc_website_screenshots/Final_Exam_Times.png).

Then, create a column called "EDGE_CASE" to handle these types of edge cases. [1](./usc_website_screenshots/Edge_1.png) [2](./usc_website_screenshots/Edge_2.png) [3](./usc_website_screenshots/Edge_3.png)

Then create a final column, "IS_EDGE_CASE." For every DAY and CLASS_TIME combination that is not an edge case, put a "N" in the column. For every DAY and CLASS_TIME combination that is an edge case, put a "Y" in the column.

This is the most complicated part, an example from the Spring 2024 semester can be found [here](./supabase_csvs/final-exam-times.csv).

### Generate the Exceptions CSV

To create the [Exceptions CSV](./supabase_csvs/exceptions.csv), create 3 columns, COURSE_CODE, EXAMINATION_DAY, and EXAMINATION_TIME. Populate the CSV with every class that has an excepted final time. The Spring 2024 [Exceptions CSV](./supabase_csvs/exceptions.csv) was created from the [USC Final Examinations Schedule](https://classes.usc.edu/term-20241/finals/). An attached screenshot from the Spring 2024 website can be found [here](./usc_website_screenshots/Exceptions_Screenshot.png).

### Upload the Final Exam Times CSV

Navigate to the database tab in supabase. Click the green "New Table" button. Follow the input in these two screenshots. [1](./more_screenshots/supabase_finalexamtime_create_1.png) [2](./more_screenshots/supabase_finalexamtime_create_2.png) Then, click the green "Save" button.

### Upload the Exceptions CSV

Navigate to the database tab in supabase. Click the green "New Table" button. Follow the input in these two screenshots. [1](./more_screenshots/supabase_exceptions_create_1.png) [2](./more_screenshots/supabase_exceptions_create_2.png) Then, click the green "Save" button.

## Step 2: Run Application

1. Install packages `npm install`
2. Run in localhost `npm run dev`
